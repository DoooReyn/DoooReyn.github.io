<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A blog that records everything">
    <meta name="author" content="DoooReyn">
    <link rel="canonical" href="https://doooreyn.github.io/%E8%AF%AD%E8%A8%80/Lua/LUA_API%20lua_arith%20%281%29/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    
    <title>Lua_API lua_arith (1) - DoooReynの星际航行日志</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../../css/base.min.css" rel="stylesheet">
    <link href="../../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/dracula.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../../..">DoooReynの星际航行日志</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">关于我</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">游戏城 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">游戏厅</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E6%B8%B8%E6%88%8F%E5%8E%85/%E5%A4%A7%E5%94%90%E7%9C%9F%E9%BE%99%E4%BC%A0/">大唐真龙传</a>
</li>

        
            
<li >
    <a href="../../../%E6%B8%B8%E6%88%8F%E5%8E%85/%E5%85%83%E6%B0%94%E5%81%B6%E5%83%8F%E5%AD%A3/">元气偶像季</a>
</li>

        
            
<li >
    <a href="../../../%E6%B8%B8%E6%88%8F%E5%8E%85/%E4%BC%A0%E5%A5%87%E7%B3%BB%E5%88%97/">传奇系列</a>
</li>

        
            
<li >
    <a href="../../../%E6%B8%B8%E6%88%8F%E5%8E%85/%E7%94%B5%E5%A8%B1%E5%A4%A7%E5%8E%85/">电娱大厅</a>
</li>

        
            
<li >
    <a href="../../../%E6%B8%B8%E6%88%8F%E5%8E%85/%E5%8D%B0%E5%B0%BC%E3%80%81%E6%B3%B0%E8%AF%AD%E6%A3%8B%E7%89%8C/">印尼/泰语棋牌</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">造轮子</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/%E7%9E%8E%E9%BC%93%E6%8D%A3%E6%BC%94%E7%A4%BA%E6%A1%88%E4%BE%8B/">瞎鼓捣演示案例</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/%E6%89%8B%E5%8A%BF%E8%AF%86%E5%88%AB%E4%B8%8E%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B/">手势识别与训练模型</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/PackManV2%E4%B8%80%E4%BD%93%E5%8C%96%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/">PackManV2一体化打包工具</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/Cocos2d-x%20%E5%B5%8C%E5%85%A5%E6%9C%AC%E5%9C%B0%20HTTP%20Server/">Cocos2d-x 嵌入本地 HTTP Server</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/Cocos2d-x%20%E5%B5%8C%E5%85%A5%E6%9C%AC%E5%9C%B0%20WebSocket%20Server/">Cocos2d-x 嵌入本地 WebSocket Server</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/Cocos2d-x%20%E7%9B%AE%E5%BD%95%E7%9B%91%E8%A7%86%E5%99%A8/">Cocos2d-x 目录监视器</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/Cocos2d-x%20FMOD%20%E9%9B%86%E6%88%90%E6%8C%87%E5%8D%97/">Cocos2d-x FMOD 集成指南</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/Cocos2d-x%20%E4%BD%BF%E7%94%A8%20spdlog%20%E6%97%A5%E5%BF%97%E5%BA%93/">Cocos2d-x 使用 spdlog 日志库</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/Cocos2d-x%20%E6%8E%A5%E5%85%A5%20lua-protobuf/">Cocos2d-x 接入 lua-protobuf</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/Adjust%20%E7%AD%BE%E5%90%8D%E7%AC%AC%E4%BA%8C%E7%89%88%20Android%20%E9%9B%86%E6%88%90%E6%8C%87%E5%8D%97/">Adjust 签名第二版 Android 集成指南</a>
</li>

        
            
<li >
    <a href="../../../%E9%80%A0%E8%BD%AE%E5%AD%90/%E6%96%B0%E6%B4%BB%E5%8A%A8%E4%B8%AD%E5%BF%83%E6%BC%94%E7%A4%BA/">新活动中心演示</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">知识点</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E7%9F%A5%E8%AF%86%E7%82%B9/%E8%AE%B0%E4%B8%80%E6%AC%A1%20Cocos%20Creator%20Android%20%E6%89%93%E5%8C%85%E6%80%BB%E7%BB%93/">记一次 Cocos Creator Android 打包总结</a>
</li>

        
            
<li >
    <a href="../../../%E7%9F%A5%E8%AF%86%E7%82%B9/Cocos%20Creator%20Spine%20%C2%B7%20%E6%9B%B4%E6%8D%A2%E7%BA%B9%E7%90%86/">Cocos Creator Spine · 更换纹理</a>
</li>

        
            
<li >
    <a href="../../../%E7%9F%A5%E8%AF%86%E7%82%B9/Cocos%20Creator%20%E6%BB%A4%E9%95%9C%20%C2%B7%20%E9%A9%AC%E8%B5%9B%E5%85%8B/">Cocos Creator 滤镜 · 马赛克</a>
</li>

        
            
<li >
    <a href="../../../%E7%9F%A5%E8%AF%86%E7%82%B9/Cocos%20%E4%B8%AD%E7%9A%84%20Size/">Cocos 中的 Size</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">语言 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Lua</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../Lua%20%E6%95%B0%E7%BB%84%E5%AE%9E%E7%8E%B0/">Lua 数组实现</a>
</li>

        
            
<li >
    <a href="../Lua%20HashMap%20%E5%AE%9E%E7%8E%B0/">Lua HashMap 实现</a>
</li>

        
            
<li >
    <a href="../Lua%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC%E5%AE%9E%E7%8E%B0/">Lua 字符串插值实现</a>
</li>

        
            
<li >
    <a href="../%E6%9B%B4%E7%AE%80%E6%B4%81%E7%9A%84%20lua%20%E9%80%BB%E8%BE%91%E4%BB%A3%E7%A0%81/">更简洁的 lua 逻辑代码</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Lua API 浅析</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../LUA_API%20Basic%20Types/">Lua_API Basic Types</a>
</li>

        
            
<li >
    <a href="../LUA_API%20lua_absindex/">Lua_API lua_absindex</a>
</li>

        
            
<li >
    <a href="../LUA_API%20lua_Alloc/">Lua_API lua_Alloc</a>
</li>

        
            
<li class="active">
    <a href="./">Lua_API lua_arith (1)</a>
</li>

        
            
<li >
    <a href="../LUA_API%20lua_arith%20%282%29/">Lua_API lua_arith (2)</a>
</li>

        
            
<li >
    <a href="../LUA_API%20lua_atpanic/">Lua_API lua_atpanic</a>
</li>

        
            
<li >
    <a href="../LUA_API%20lua_call%20%26%20lua_callk/">Lua_API lua_call & lua_callk</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">JavaScript</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../JavaScript/Faker.js%20%E5%88%86%E6%9E%90/">Faker.js 分析</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Python</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Python/%E5%A6%82%E4%BD%95%E7%94%A8%20Python%20%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC/">如何用 Python 实现字符串插值</a>
</li>

        
            
<li >
    <a href="../../Python/Pylint-%E4%BD%A0%E5%BE%88%E6%A3%92%EF%BC%8C%E4%BD%86%E6%88%91%E4%B8%8D%E6%83%B3%E8%B7%9F%E4%BD%A0%20PaPaPa/">Pylint-你很棒，但我不想跟你 PaPaPa</a>
</li>

        
            
<li >
    <a href="../../Python/Python%20%E7%88%AC%E5%8F%96%20gank.io%20%E4%BB%8A%E6%97%A5%E5%8A%9B%E6%8E%A8/">Python 爬取 gank.io 今日力推</a>
</li>

        
            
<li >
    <a href="../../Python/%E6%88%91%E6%9C%89%E5%B9%B2%E8%B4%A7%EF%BC%8C%E4%BD%A0%E6%95%A2%E6%94%B6%E5%90%97%EF%BC%9F/">我有干货，你敢收吗？</a>
</li>

        
            
<li >
    <a href="../../Python/RubyChina%20%E4%BC%98%E8%B4%A8%E5%B8%96%20Markdown%20%E6%A0%BC%E5%BC%8F%E6%95%B4%E7%90%86%EF%BC%88%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%89/">RubyChina 优质帖 Markdown 格式整理（第一部分）</a>
</li>

        
            
<li >
    <a href="../../Python/RubyChina%20%E4%BC%98%E8%B4%A8%E5%B8%96%20Markdown%20%E6%A0%BC%E5%BC%8F%E6%95%B4%E7%90%86%EF%BC%88%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%EF%BC%89/">RubyChina 优质帖 Markdown 格式整理（第三部分）</a>
</li>

        
            
<li >
    <a href="../../Python/RubyChina%20%E4%BC%98%E8%B4%A8%E5%B8%96%20Markdown%20%E6%A0%BC%E5%BC%8F%E6%95%B4%E7%90%86%EF%BC%88%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%EF%BC%89/">RubyChina 优质帖 Markdown 格式整理（第二部分）</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">PHP</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../PHP/Windows%20%E5%AE%89%E8%A3%85%20PHP7.4/">Windows 安装 PHP7.4</a>
</li>

        
            
<li >
    <a href="../../PHP/CentOS%20%E5%AE%89%E8%A3%85%20PHP7.4/">CentOS 安装 PHP7.4</a>
</li>

        
            
<li >
    <a href="../../PHP/%E6%9F%A5%E7%9C%8B%20php.ini%20%E5%AD%98%E6%94%BE%E5%9C%B0%E5%9D%80/">查看 php.ini 存放地址</a>
</li>

        
            
<li >
    <a href="../../PHP/%E5%AE%89%E8%A3%85%20Composer/">安装 Composer</a>
</li>

        
            
<li >
    <a href="../../PHP/%E5%AE%89%E8%A3%85%20MixPhp/">安装 MixPhp</a>
</li>

        
            
<li >
    <a href="../../PHP/%E5%AE%89%E8%A3%85%20Swoole/">安装 Swoole</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">工具箱 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../%E5%B7%A5%E5%85%B7%E7%AE%B1/%E5%BE%AE%E8%AF%BB%E8%87%AA%E5%8A%A8%E9%98%85%E8%AF%BB%E5%99%A8/">微读自动阅读器</a>
</li>

                        
                            
<li >
    <a href="../../../%E5%B7%A5%E5%85%B7%E7%AE%B1/%E5%B7%A5%E8%B5%84%E6%98%8E%E7%BB%86%E5%8A%A9%E6%89%8B/">工资明细助手</a>
</li>

                        
                            
<li >
    <a href="../../../%E5%B7%A5%E5%85%B7%E7%AE%B1/BMFont%20Toolbox%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/">BMFont Toolbox 使用指南</a>
</li>

                        
                            
<li >
    <a href="../../../%E5%B7%A5%E5%85%B7%E7%AE%B1/%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%20md5%20sha1%20sha256%20%E5%80%BC/">查看文件 md5 sha1 sha256 值</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">医药箱 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Android</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Android/ADB%20%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/">ADB 常用指令</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Android/ADB%20%E8%B0%83%E8%AF%95%E8%BF%9E%E6%8E%A5%E5%A4%9C%E7%A5%9E%E6%A8%A1%E6%8B%9F%E5%99%A8/">ADB 调试连接夜神模拟器</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Android/Android%20NDK%20%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC/">Android NDK 历史版本</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Android/Android%20SDK%20%E7%89%88%E6%9C%AC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/">Android SDK 版本之间的关系</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Android/Android%20Studio%20%E5%8D%A0%E7%94%A8%E6%9E%81%E5%A4%A7%E5%86%85%E5%AD%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">Android Studio 占用极大内存的解决方法</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Android/Android%20Studio%20Clean%20%E4%B8%8E%20Rebuild%20%E7%9A%84%E5%8C%BA%E5%88%AB/">Android Studio Clean 与 Rebuild 的区别</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Mac</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/AppleScript%20%E6%90%AD%E9%85%8D%20Alfred%20%E7%9C%9F%E4%B9%83%E5%88%A9%E5%99%A8/">AppleScript 搭配 Alfred 真乃利器</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/Mac%20%E9%9F%B3%E9%87%8F%E5%BE%AE%E8%B0%83/">Mac 音量微调</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/Mac%20%E5%BA%94%E7%94%A8%E5%B7%B2%E6%8D%9F%E5%9D%8F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">Mac 应用已损坏解决方案</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/Mac%20nvm%20%E5%AE%8C%E5%85%A8%E5%8D%B8%E8%BD%BD%E6%8C%87%E5%8D%97/">Mac nvm 完全卸载指南</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/Mac%20zsh%20%E7%B2%98%E8%B4%B4%E5%8A%A0%E9%80%9F/">Mac zsh 粘贴加速</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/MacOS%20%E5%AE%89%E8%A3%85%20autojump/">MacOS 安装 autojump</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/MacOS%20%E5%AE%89%E8%A3%85%20Pillow/">MacOS 安装 Pillow</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/MacOS%20%E5%8D%B8%E8%BD%BD%20Java9/">MacOS 卸载 Java9</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/MacOS%20Java%20%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/">MacOS Java 版本管理</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Xcode error</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Mac/your%20session%20has%20expired%2C%20please%20log%20in/">your session has expired, please log in</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Git</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Git/Git%20%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86/">Git 设置代理</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Git/%E8%A7%A3%E5%86%B3%20Github%20%E8%B4%A1%E7%8C%AE%E5%80%BC%E4%B8%8D%E8%AE%A1%E7%AE%97%E9%97%AE%E9%A2%98/">解决 Github 贡献值不计算问题</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Interview</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Interview/HR%20%E9%9D%A2/">HR 面</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Interview/%E6%8A%80%E6%9C%AF%E9%9D%A2/">技术面</a>
</li>

        
            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/Interview/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93/">个人总结</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/%E6%9F%A5%E7%9C%8B%20npm%20%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE/">查看 npm 安装位置</a>
</li>

                        
                            
<li >
    <a href="../../../%E5%8C%BB%E8%8D%AF%E7%AE%B1/%E8%A7%A3%E5%86%B3%20Windows%20%E9%95%BF%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/">解决 Windows 长路径问题</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">图书馆 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">算法</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E7%9A%84%E6%97%B6%E9%97%B4%E4%B8%8E%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/">算法的时间与空间复杂度</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E7%AE%97%E6%B3%95/%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93%E5%8F%8A%E5%85%B6%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0/">查找算法直接及其算法实现</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%A7%E8%83%BD%E5%8F%8A%E9%80%89%E6%8B%A9%E6%80%BB%E7%BB%93/">排序算法性能及选择总结</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">书籍</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/Github%E4%B8%8A%E7%9A%84%E7%94%B5%E5%AD%90%E4%B9%A6/">Github上的电子书</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E8%BF%91%E4%B8%87%E6%9C%AC%E6%8A%80%E6%9C%AF%E7%94%B5%E5%AD%90%E4%B9%A6%E5%85%8D%E8%B4%B9%E4%B8%8B%E8%BD%BD/">近万本技术电子书免费下载</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E7%94%B5%E5%AD%90%E4%B9%A6%E4%B8%8B%E8%BD%BD/">游戏开发电子书下载</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/J%C2%B7%E5%B8%83%E7%BD%97%E5%85%8B%E6%9B%BC-%E6%9C%AA%E6%9D%A5%E4%BA%94%E5%8D%81%E5%B9%B4/">J·布罗克曼-未来五十年</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E5%8C%97%E5%B2%9B%E3%80%8A%E6%B3%A2%E5%85%B0%E6%9D%A5%E5%AE%A2%E3%80%8B/">北岛《波兰来客》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E9%99%88%E5%B9%B3%E3%80%8A%E4%BB%A3%E8%B0%A2%E5%A2%9E%E9%95%BF%E8%AE%BA%E3%80%8B/">陈平《代谢增长论》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E9%99%88%E5%B9%B3-%E8%87%AA%E7%94%B1%E7%9A%84%E5%AF%B9%E7%AB%8B%E9%9D%A2%E4%B8%8D%E6%98%AF%E4%B8%93%E6%94%BF%E6%98%AF%E8%87%AA%E5%BE%8B/">陈平-自由的对立面不是专政是自律</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E7%A7%91%E6%AF%94%C2%B7%E5%B8%83%E8%8E%B1%E6%81%A9%E7%89%B9%20%E3%80%8A%E6%9B%BC%E5%B7%B4%E7%B2%BE%E7%A5%9E%EF%BC%9A%E7%A7%91%E6%AF%94%E8%87%AA%E4%BC%A0%E3%80%8B/">科比·布莱恩特 《曼巴精神:科比自传》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E8%82%AF%C2%B7%E7%BD%97%E5%AE%BE%E9%80%8A%20%E5%8D%A2%C2%B7%E9%98%BF%E7%BD%97%E5%B0%BC%E5%8D%A1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%80%E5%A5%BD%E7%9A%84%E6%95%99%E8%82%B2/">肯·罗宾逊 卢·阿罗尼卡-什么是最好的教育</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E5%8A%B3%E4%BC%A6%E6%96%AF%C2%B7%E5%B8%83%E6%B4%9B%E5%85%8B-%E5%B0%8F%E8%AF%B4%E7%9A%84%E5%85%AB%E7%99%BE%E4%B8%87%E7%A7%8D%E5%86%99%E6%B3%95/">劳伦斯·布洛克-小说的八百万种写法</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E6%9D%8E%E6%95%96-%E5%8C%97%E4%BA%AC%E6%B3%95%E6%BA%90%E5%AF%BA/">李敖-北京法源寺</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E6%9D%8E%E6%B7%BC%C2%B7%E3%80%8A%E4%B8%89%E4%BD%93%E3%80%8B%E4%B8%AD%E7%9A%84%E7%89%A9%E7%90%86%E5%AD%A6/">李淼·《三体》中的物理学</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E7%BD%97%E4%BC%AF%E7%89%B9%C2%B7L.%E5%87%AF%E5%88%A9-%E7%AC%AC%E4%BA%94%E6%AC%A1%E5%BC%80%E5%A7%8B/">罗伯特·L.凯利-第五次开始</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E5%90%95%E6%80%9D%E5%8B%89%E3%80%8A%E4%B8%AD%E5%9B%BD%E9%80%9A%E5%8F%B2%E3%80%8B%E7%BB%AA%E8%AE%BA/">吕思勉《中国通史》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E6%98%8E%E9%81%93-%E5%9B%BE%E8%A7%A3%E9%80%BB%E8%BE%91%E5%AD%A6/">明道-图解逻辑学</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E9%9D%92%E5%B1%B1%E4%B8%83%E6%83%A0%E3%80%8A%20%E4%B8%80%E4%B8%AA%E4%BA%BA%E7%9A%84%E5%A5%BD%E5%A4%A9%E6%B0%94%E3%80%8B/">青山七惠·《一个人的好天气》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E6%B8%85%E6%B0%B4%E8%8D%A3%E5%8F%B8%E3%80%8A%E8%AE%A4%E7%94%9F%E7%9A%84%E4%BA%BA%EF%BC%9A%E5%A6%82%E4%BD%95%E5%85%8B%E6%9C%8D%E7%A4%BE%E4%BA%A4%E7%84%A6%E8%99%91%E3%80%8B/">清水荣司《认生的人:如何克服社交焦虑》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E7%91%9E%C2%B7%E8%BE%BE%E5%88%A9%E6%AC%A7%20%E3%80%8A%E5%8E%9F%E5%88%99%E3%80%8B/">瑞·达利欧 《原则》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E5%8D%AB%E5%AE%AB%E5%A3%AB%E9%83%8E%20%E3%80%8AFateStay%20Night%20Unlimited%20Blade%20Works%E3%80%8B/">卫宫士郎 《FateStay Night Unlimited Blade Works》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E6%B8%A9%E9%93%81%E5%86%9B%20%E3%80%8A%E4%B9%A1%E5%BB%BA%E7%AC%94%E8%AE%B0%EF%BC%9A%E6%96%B0%E9%9D%92%E5%B9%B4%E4%B8%8E%E4%B9%A1%E6%9D%91%E7%9A%84%E7%94%9F%E5%91%BD%E5%AF%B9%E8%AF%9D%E3%80%8B/">温铁军 《乡建笔记:新青年与乡村的生命对话》</a>
</li>

        
            
<li >
    <a href="../../../%E5%9B%BE%E4%B9%A6%E9%A6%86/%E5%B0%A4%E7%93%A6%E5%B0%94%C2%B7%E8%B5%AB%E6%8B%89%E5%88%A9%E3%80%8A%E6%9C%AA%E6%9D%A5%E7%AE%80%E5%8F%B2%EF%BC%9A%E4%BB%8E%E6%99%BA%E4%BA%BA%E5%88%B0%E6%99%BA%E7%A5%9E%E3%80%8B/">尤瓦尔·赫拉利《未来简史:从智人到智神》</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li >
                        <a rel="prev" href="../LUA_API%20lua_Alloc/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../LUA_API%20lua_arith%20%282%29/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#lua_api_lua_arith_1">LUA_API lua_arith (1)</a></li>
            <li class="second-level"><a href="#_1">开篇</a></li>
                
            <li class="second-level"><a href="#_2">解析</a></li>
                
            <li class="second-level"><a href="#_3">终了</a></li>
                
            <li class="second-level"><a href="#_4">参考</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<div><h2 id="lua_api_lua_arith_1">LUA_API lua_arith (1)<a class="headerlink" href="#lua_api_lua_arith_1" title="Permanent link">¶</a></h2>
<h3 id="_1">开篇<a class="headerlink" href="#_1" title="Permanent link">¶</a></h3>
<blockquote>
<p>本节的目标是 <code>lua_arith</code>。<br>
从字面意义上看，<code>arith</code> 是 <code>arithmetic</code> 的缩写，也就是算术的意思。可见它是与 Lua 的算数运算息息相关的，理解它有助于我们理解 Lua 的算术规则。<br>
废话不说，放马来吧！</p>
</blockquote>
<h3 id="_2">解析<a class="headerlink" href="#_2" title="Permanent link">¶</a></h3>
<p><code>lua_arith</code> 声明在 <code>lua.h</code> ：</p>
<pre class="codehilite"><code class="language-c linenums">// lua.h 211
LUA_API void  (lua_arith) (lua_State *L, int op);
</code></pre>

<p><code>lua_State</code> 是 lua 的状态机内容，我们暂时不管，适当时机会逐渐展开说明。除此之外，<code>lua_arith</code> 接收一个整型数据 <code>op</code> 作为参数，<code>op</code> 是 <code>operator</code> 的缩写，意指<strong>运算符</strong>。因为运算符是整型，所以必然有各种运算符的定义，也不用费劲去找，它就在声明的上方：</p>
<pre class="codehilite"><code class="language-c linenums">#define LUA_OPADD   0   // + 加      /* ORDER TM, ORDER OP */    
#define LUA_OPSUB   1   // - 减
#define LUA_OPMUL   2   // * 乘
#define LUA_OPMOD   3   // % 取模
#define LUA_OPPOW   4   // ^ 幂次方
#define LUA_OPDIV   5   // / 除
#define LUA_OPIDIV  6   // // 向下取整除法
#define LUA_OPBAND  7   // 与
#define LUA_OPBOR   8   // 或
#define LUA_OPBXOR  9   // 异或
#define LUA_OPSHL   10  // 逻辑左移
#define LUA_OPSHR   11  // 逻辑右移
#define LUA_OPUNM   12  // 取负
#define LUA_OPBNOT  13  // 非
</code></pre>

<p>现在我们可以猜测一下 <code>lua_arith</code> 的实现了：想象中，一般根据运算符进行 <code>swicth</code>，然后在各个 <code>case</code> 中实现具体不同的运算吧。先这样定下来，然后来看它的实现：</p>
<pre class="codehilite"><code class="language-c linenums">// lua_api.c 302
LUA_API void lua_arith (lua_State *L, int op) {
  lua_lock(L);
  if (op != LUA_OPUNM &amp;&amp; op != LUA_OPBNOT)  
    api_checknelems(L, 2);  /* all other operations expect two operands */
  else {  /* for unary operations, add fake 2nd operand */
    api_checknelems(L, 1);
    setobjs2s(L, L-&gt;top, L-&gt;top - 1);
    api_incr_top(L);
  }
  /* first operand at top - 2, second at top - 1; result go to top - 2 */
  luaO_arith(L, op, L-&gt;top - 2, L-&gt;top - 1, L-&gt;top - 2);
  L-&gt;top--;  /* remove second operand */
  lua_unlock(L);
}
</code></pre>

<p>第 1 行，<code>lua_lock(L);</code>，不知道什么用，看它的定义：</p>
<pre class="codehilite"><code class="language-c linenums">// llimits.h 213
/*
** macros that are executed whenever program enters the Lua core
** ('lua_lock') and leaves the core ('lua_unlock')
*/
#if !defined(lua_lock)
#define lua_lock(L) ((void) 0)
#define lua_unlock(L)   ((void) 0)
#endif
</code></pre>

<p>注释的意思是，当Lua 程序进入核心 <code>core</code> 时需执行 <code>lua_lock</code>，离开核心 <code>core</code> 时需执行 <code>lua_unlock</code>。可是我们看到的是 <code>((void) 0)</code>，妈的，这不是相当于什么都没做吗？那有什么意义呢？
无奈，只好Google之，于是找到一篇 <a href="http://stackoverflow.com/questions/3010974/purpose-of-lua-lock-and-lua-unlock" title="Purpose of lua_lock and lua_unlock">Purpose of lua_lock and luc_unlock</a>，以下是节选和翻译：</p>
<blockquote>
<p>If you port Lua to another platform, you are "allowed" to overwrite lua_lock with your own definition; and this definition should essentially be a mutex, to disallow cross-thread operations on the same Lua objects. Essentially, when implemented, it should act similarly to Python's Global Interpreter Lock (GIL).</p>
<p>当需要将 <code>Lua</code> 移植到其他平台时，可以重写 <code>lua_lock</code>。必须注意的是，为了避免线程间对同一 <code>Lua</code> 对象的操作，<code>lua_lock</code> 的定义必须是<strong>互斥</strong>的，且其实现中其行为应该和 <code>Python</code> 的<strong>全局解释器锁（GIL）</strong>类似。</p>
</blockquote>
<p>意思是，<code>lua_lock</code> 和 <code>lua_unlock</code> 主要用于线程间通信的情况，一般情况下我们不需要考虑，<code>Lua</code> 官方也对其做了保留，如果有需要涉及到多线程操作，则需开发者自行实现互斥行为。想了解更多，可以看看这篇 <a href="http://lua-users.org/wiki/ThreadsTutorial" title="Threads Tutorial">Lua Threads Tutorial</a>。</p>
<p>我们接着看第 2 行，这边出现了一个分支条件，<code>if (op != LUA_OPUNM &amp;&amp; op != LUA_OPBNOT)</code> 。注意到 <code>LUA_OPUNM</code> 和 <code>LUA_OPBNOT</code> 是单目运算符，且随后的注释也补充说明，其下的操作要求 2 个操作数，也就是双目运算；那么 <code>else</code> 分支显然是对于单目运算而言了，对于单目运算，有这样的说明：添加了第 2 个伪操作数。什么意思？我们留待后面说明。</p>
<p>我们移驾到第 3 行， <code>api_checknelems(L, 2);</code> ，找到它的定义：</p>
<pre class="codehilite"><code class="language-c linenums">// lapi.h 20
#define api_checknelems(L,n)    api_check(L, (n) &lt; (L-&gt;top - L-&gt;ci-&gt;func), \
                  "not enough elements in the stack")
</code></pre>

<p>上一节，我们介绍过 <code>(L-&gt;top - L-&gt;ci-&gt;func)</code>，它的意义是获知当前栈内元素的个数，那么 <code>api_checknelems(L, n)</code> 的意图就很明白了，就是检查当前栈内元素是否足够，如果索引 n 大于栈内元素，那么就访问了栈内不存在的元素，那想当然就越界了。 
我们继续看下去，看看是不是这样。继续找到 <code>api_check</code>：</p>
<pre class="codehilite"><code class="language-c linenums">// llimits.h 97
/*
** assertion for checking API calls
*/
#if !defined(luai_apicheck)
#define luai_apicheck(l,e)  lua_assert(e)
#endif

#define api_check(l,e,msg)  luai_apicheck(l,(e) &amp;&amp; msg)
</code></pre>

<p>注意到 <code>api_check</code> 被 <code>luai_apicheck</code> 绑定，而 <code>luai_apicheck</code> 又被 <code>lua_assert</code> 绑定。注释说，此方法是<strong>用于检查 API 调用的断言</strong>。
哇靠，真TM心累，找了这么久，发现结果是<strong>断言</strong>，而 <code>lua_assert</code> 的行为现在还没有显山露水，仍旧是迷迷糊糊的，只好再找下去了。
我们来找 <code>luai_apicheck</code>，看看有没有其他定义。结果还真有，好累，来看看吧：</p>
<pre class="codehilite"><code class="language-c linenums">// luaconf.h 683
/*
@@ LUA_USE_APICHECK turns on several consistency checks on the C API.
** Define it as a help when debugging C code.
*/
#if defined(LUA_USE_APICHECK)
#include &lt;assert.h&gt;
#define luai_apicheck(l,e)  assert(e)
#endif
</code></pre>

<p>意思是，如果开启了 <code>LUA_USE_APICHECK</code>，那么 <code>luai_apicheck</code> 使用的是标准的 <code>C 断言 assert</code>。
结合上文，如果 <code>LUA_USE_APICHECK</code> 未开启，那么 <code>luai_apicheck</code> 使用的是 <code>Lua 的断言 lua_asser</code>。
OK，搞定！现在我们可以放心地来找 <code>lua_assert</code> 了。结果发现，尼玛，居然又有两处定义！好吧，先看第一处：</p>
<pre class="codehilite"><code class="language-c linenums">// llimits.h 84
/* internal assertions for in-house debugging */
#if defined(lua_assert)
#define check_exp(c,e)      (lua_assert(c), (e))
/* to avoid problems with conditions too long */
#define lua_longassert(c)   ((c) ? (void)0 : lua_assert(0))
#else
#define lua_assert(c)       ((void)0)
#define check_exp(c,e)      (e)
#define lua_longassert(c)   ((void)0)
#endif
</code></pre>

<p>我们跳过 <code>lua_assert</code> 已定义的情况<em>（因为它下面的内容对我们的理解来说并没有什么用）</em>，看未定义时的情况：
<code>#define lua_assert(c)      ((void)0)</code>
哦，万岁，又是什么都不做。
看注释怎么解释的：这个是用于内部调试的内部断言。
嗯哼，什么意思？还用说，用诙谐一点的手法说，又当了一回甩手掌柜呀：</p>
<blockquote>
<p>亲爱的客官呀，如果您有内部调试的需求，麻烦自己定义 <code>lua_assert</code> 的行为，否则本店是一概不做特殊处理啦。您有本事自己去扩展、去倒腾吧，哈哈哈！欢迎光临！谢谢慢走！</p>
</blockquote>
<p>来看第二处，位于 <code>lualib.h 53</code> 行：</p>
<pre class="codehilite"><code class="language-c linenums">// lublib.h 53
#if !defined(lua_assert)
#define lua_assert(x)   ((void)0)
#endif
</code></pre>

<p><code>lualib.h</code> 定义了 <code>Lua</code> 的标准库。同样的，仍然是不作处理。意思明摆着：如果您之前没有定义断言行为，那么往后我也不做特殊处理哦。</p>
<p>那么，两处有什么不同呢？猜测：第一处用于需要对源码进行修改时进行内部调试的情况；而第二处则面向外部 C API用户，为什么？因为它只针对标准库！</p>
<p>看了这么多，终于知道 <code>api_checknelems(L, 2);</code> 是为了检查栈内元素是否有2个以上，如果没有就抛出断言；也就是说，如果栈内元素不满足操作数的要求，那就出错了。
同样的，对于单目运算 <code>api_checknelems(L, 1);</code> 亦然。</p>
<p>千辛万苦，跋山涉水，我们终于来到了第 5 行：<code>setobjs2s(L, L-&gt;top, L-&gt;top - 1);</code>。这回我们找到相关定义，一并推出：</p>
<pre class="codehilite"><code class="language-c linenums">// lobject.h 190
#define checkliveness(L,obj) \
    lua_longassert(!iscollectable(obj) || \
        (righttt(obj) &amp;&amp; (L == NULL || !isdead(G(L),gcvalue(obj)))))

// lobject.h 259
#define setobj(L,obj1,obj2) \
    { TValue *io1=(obj1); *io1 = *(obj2); \
      (void)L; checkliveness(L,io1); }

// lobject.h 269
/* from stack to (same) stack */
#define setobjs2s   setobj
</code></pre>

<p>将宏定义替换之后，可以将 <code>setobjs2s(L, L-&gt;top, L-&gt;top - 1);</code> 展开为：</p>
<pre class="codehilite"><code class="language-c linenums">{
    TValue *io1=(L-&gt;top); 
    *io1 = *(L-&gt;top - 1);
    (void)L; 
    checkliveness(L,io1);// 垃圾回收相关，这里不展开说明，只要知道它用于检查 Lua 对象是否可用即可
}
</code></pre>

<p>紧接着执行 <code>api_incr_top(L)</code>：</p>
<pre class="codehilite"><code class="language-c linenums">#define api_incr_top(L)   {L-&gt;top++; api_check(L, L-&gt;top &lt;= L-&gt;ci-&gt;top, \
                "stack overflow");}
</code></pre>

<p>先让栈顶索引自增，接着检查 <code>L-&gt;top &lt;= L-&gt;ci-&gt;top</code>。<br>
关于这里栈顶索引为什么要自增？联系上下文，应该是要腾出一个空间给第二个伪操作数。</p>
<p>接下来我们看第 10 行，为什么要特别看这个注释，因为这里有一个重要的提示：</p>
<pre class="codehilite"><code class="language-c linenums">/* first operand at top - 2, second at top - 1; result go to top - 2 */
</code></pre>

<p>意思是：以上准备工作万何曾之后，现在的情况是，第一个操作数位于栈内 <code>top - 2</code> 处，第二个操作数位于 <code>top - 1</code> 处，然后我们会把运算结果会放在 <code>top - 2</code> 处。</p>
<p><em>这节篇幅太长了，笔者也累了，先撂下一笔，下节我们继续。</em></p>
<h3 id="_3">终了<a class="headerlink" href="#_3" title="Permanent link">¶</a></h3>
<ul>
<li>学习要不厌其烦，但篇幅太长，不烦休息一会再战。</li>
<li>看源码真的可以懂不少东西，所以不要害怕，总会有收获等着你。</li>
</ul>
<h3 id="_4">参考<a class="headerlink" href="#_4" title="Permanent link">¶</a></h3>
<p><strong> lua_lock </strong></p>
<ul>
<li><a href="http://stackoverflow.com/questions/3010974/purpose-of-lua-lock-and-lua-unlock">Purpose of lua_lock and lua_unlock</a></li>
<li><a href="http://lua-users.org/wiki/ThreadsTutorial">Threads Tutorial</a></li>
</ul>
<p><strong> lua_assert </strong></p>
<ul>
<li><a href="http://lua-users.org/lists/lua-l/2015-11/msg00142.html">lua_assert macro definition</a></li>
</ul></div></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Copyright &copy; 2021 DoooReyn <a href="http://beian.miit.gov.cn" target="_blank">闽ICP备19014786号-1</a></small><br>
            
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/bat.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/c.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/cpp.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/javascript.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/lua.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/php.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/python.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/shell.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/typescript.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/yaml.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../../.."</script>
    
    <script src="../../../js/base.js"></script>

    <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
